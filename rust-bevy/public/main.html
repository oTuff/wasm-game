<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Bevy Wasm Example</title>
    <style>
      canvas {
        position: absolute;
        top: 0;
        left: 0;
      }
    </style>
  </head>
  <script type="module">
    import init, {
      get_rust_metrics,
      run_bevy_app,
    } from "./pkg/rust_bevy.js";
    await init();

    // poll metrics every second
    setInterval(async () => {
      try {
        console.log("Metrics:", get_rust_metrics());
      } catch (err) {
        console.error("Failed to get metrics:", err);
      }
    }, 1000);
    run_bevy_app();
  </script>
</html>
