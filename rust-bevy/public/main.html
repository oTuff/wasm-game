<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Bevy Wasm Example</title>
    <style>
      canvas {
        position: absolute;
        top: 0;
        left: 0;
      }
    </style>
  </head>
  <script type="module">
    import { PerformanceMetrics } from "/public/performanceMetrics.js";
    import init, {
      get_rust_metrics,
      run_bevy_app,
    } from "./pkg/rust_bevy.js";

    PerformanceMetrics.markWasmStart();
    await init();
    PerformanceMetrics.markWasmEndAndLog();
    const metrics = new PerformanceMetrics(
      () => get_rust_metrics(),
      "Rust",
    );
    metrics.start();
    run_bevy_app();
  </script>
</html>
